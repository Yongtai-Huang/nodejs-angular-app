<div class="profile-edit-page">
  <div class="container page">
    <div class="row">
      <div class="col-md-12 col-sm-12">
        <app-list-errors [errors]="errors"></app-list-errors>
        <div *ngIf="user.image">
          <img class="user-image mx-auto d-block" src="{{avatar_url}}{{user.image}}" alt="{{user.username}}">
          <div class="text-danger text-center">
            <a (click)="onRemoveAvatar()">
              <span *ngIf="!removeAvatar"><i class="fa fa-circle-o fa-lg" aria-hidden="true"></i> Remove Avatar</span>
              <span *ngIf="removeAvatar"><i class="fa fa-check-circle-o fa-lg" aria-hidden="true"></i> Remove Avatar</span>
            </a>
          </div>
        </div>

        <form [formGroup]="profileEditForm" (ngSubmit)="submitForm(profileEditForm.value)">
          <div class="form-group">
            <label *ngIf="!user.image" for="uploadFile"><strong>Upload Image</strong></label>
            <label *ngIf="user.image" for="uploadFile"><strong>Update Image</strong></label>
            <input class="form-control" type="file" id="uploadFile"
             (change)="fileChange($event)"
             placeholder="Upload file"
             formControlName="uploadFile"
             accept=".jpg, .jpeg, .png, .gif">
          </div>

          <div *ngIf="wrongFileType" class="alert alert-danger" role="alert">
            Image file (jpg, .jpeg, .png, .gif files) only !
          </div>

          <div *ngIf="fileTooLarge" class="alert alert-danger" role="alert">
            File is too large. Accepted file size: {{sizeLimit}} MB.
          </div>

          <div class="form-group">
            <label for="username"><strong>Username</strong></label>
            <input class="form-control" id="username"
              type="text"
              placeholder="Username"
              formControlName="username" />
          </div>

          <div class="form-group">
            <label for="firstname"><strong>First Name</strong></label>
            <input class="form-control" id="firstname"
              type="text"
              placeholder="First Name"
              formControlName="firstname" />
          </div>

          <div class="form-group">
            <label for="lastname"><strong>Last Name</strong></label>
            <input class="form-control" id="lastname"
              type="text"
              placeholder="Last Name"
              formControlName="lastname" />
          </div>

          <div class="form-group">
            <label for="bio"><strong>Biography</strong></label>
            <textarea class="form-control" id="bio" rows="8"
              formControlName="bio" placeholder="Describe you self...">
            </textarea>
          </div>

          <div class="form-group">
            <label for="email"><strong>Email</strong></label>
            <input class="form-control" id="email"
              type="email"
              placeholder="Email"
              formControlName="email" />
          </div>

          <div class="form-group">
            <label for="password"><strong>Password</strong></label>
            <input class="form-control" id="password"
              type="password"
              placeholder="New Password"
              formControlName="password" />
          </div>

          <button [disabled]="isSubmitting" class="btn btn-lg btn-primary"
            type="submit">
            Update Profile
          </button>

          <button class="btn btn-info" type="button" (click)="cancel()">
            Cancel
          </button>

        </form>

      </div>
    </div>
  </div>
</div>
